// quietflow.min.js
// Â© 2015 Paul Krishnamurthy

$.fn.quietflow=function(o){function a(o,a,t){console.log("%c "+o,"background: "+a+"; color: "+t)}function t(o,a,t,e){var r;return r=void 0!=e?"rgba("+Math.floor(Math.random()*o).toString()+","+Math.floor(Math.random()*a).toString()+","+Math.floor(Math.random()*t).toString()+", .5)":"rgb("+Math.floor(Math.random()*o).toString()+","+Math.floor(Math.random()*a).toString()+","+Math.floor(Math.random()*t).toString()+")"}function e(){function o(){for(var a=0;l>a;a+=M+1)for(var e=0;i>e;e+=M+1)I.fillStyle=t(u,v,g),I.fillRect(a,e,M,M);setTimeout(o,s)}function a(){(E+$>l||0>E+$)&&($=-$),(_+A>i||0>_+A)&&(A=-A),E+=$,_+=A,I.fillStyle=h,I.fillRect(0,0,l,i);for(var o=0;C>o;o++)for(var t=0;C>t;t++){var e=o/C*l,r=t/C*i,n=Math.sqrt(Math.pow(E-e,2)+Math.pow(_-r,2))/p;I.beginPath(),I.fillStyle=S,I.arc(e,r,n,0,2*Math.PI,!0),I.closePath(),I.fill()}setTimeout(a,s)}function e(){I.fillStyle=h,I.fillRect(0,0,l,i);for(var o=0;T>o;o++){var a=circleData[o],t=0,r=1,n=2,d=3,s=4,m=5;(a[t]+a[d]>l||a[t]+a[d]<0)&&(a[3]=-a[3]),(a[r]+a[s]>i||a[r]+a[s]<0)&&(a[s]=-a[s]),a[t]+=a[d],a[r]+=a[s],I.beginPath(),I.fillStyle=a[m],I.arc(a[t],a[r],a[n],0,2*Math.PI,!0),I.closePath(),I.fill()}setTimeout(e,b)}function r(){I.fillStyle=h,I.fillRect(0,0,l,i),I.beginPath(),I.fillStyle=lineColor,I.arc(k,x,2,0,2*Math.PI,!0),I.closePath(),I.fill();for(var o=0;w>o;o++)I.beginPath(),I.moveTo(k,x),I.lineTo(Math.random()*l,Math.random()*i),I.strokeStyle=lineColor,I.shadowColor=m,I.shadowBlur=20,I.stroke();setTimeout(r,s)}function d(){var o=I.createLinearGradient(0,0,l/2,i);o.addColorStop(0,"#333333"),o.addColorStop(1,"#000"),I.fillStyle=o,I.fillRect(0,0,l,i);for(var a=0;a<H.length;a++){var t=H[a],e=0,r=1,n=2,h=3;t[e]+=t[h],I.beginPath(),I.fillStyle=P,I.arc(t[e],t[r],t[n],0,2*Math.PI,!0),I.shadowColor="#fff",I.shadowBlur=20,I.closePath(),I.fill(),t[e]>l&&(H.splice(a,1),H.unshift([Math.random()*l/4-l/4,Math.random()*i,Math.random()*R,Math.ceil(5*Math.random())]))}setTimeout(d,s)}function q(){I.beginPath(),f.length>0?I.strokeStyle=f[Math.floor(Math.random()*f.length)]:I.strokeStyle=t(255,255,255),I.moveTo(0,0),I.lineTo(Math.random()*l,Math.random()*i),f.length>0?I.strokeStyle=f[Math.floor(Math.random()*f.length)]:I.strokeStyle=t(255,255,255),I.moveTo(l,0),I.lineTo(Math.random()*l,Math.random()*i),f.length>0?I.strokeStyle=f[Math.floor(Math.random()*f.length)]:I.strokeStyle=t(255,255,255),I.moveTo(0,i),I.lineTo(Math.random()*l,Math.random()*i),f.length>0?I.strokeStyle=f[Math.floor(Math.random()*f.length)]:I.strokeStyle=t(255,255,255),I.moveTo(l,i),I.lineTo(Math.random()*l,Math.random()*i),I.shadowColor=m,I.shadowBlur=20,I.stroke(),setTimeout(q,s)}function L(){I.fillStyle=h,I.fillRect(0,0,l,i);for(var o=0;o<J.length;o++){var a=J[o],e=0,r=1,n=2,d=3,s=4;I.fillStyle=a[d],I.fillRect(a[e],a[r],a[n],a[n]),a[e]+=a[s],a[r]-=a[s],(a[e]>l+F||a[r]<-F)&&(J.splice(o,1),0==f.length?c?J.push([Math.random()*l*2-l,Math.random()*i*2+i,Math.random()*F+1,t(255,255,255,.5),5*Math.random()]):J.push([Math.random()*l*2-l,Math.random()*i*2+i,Math.random()*F+1,t(255,255,255),5*Math.random()]):J.push([Math.random()*l*2-l,Math.random()*i*2+i,Math.random()*F+1,f[Math.floor(Math.random()*f.length)],5*Math.random()]))}setTimeout(L,100)}if("squareFlash"==n)setTimeout(o,s);else if("vortex"==n){var $=2,A=4,E=l/2,_=i/2;setTimeout(a,s)}else if("bouncingBalls"==n){circleData=[];for(var Y=0;T>Y;Y++)0==f.length?c?circleData.push([Math.random()*l,Math.random()*i,Math.random()*y,2*Math.random(),4*Math.random(),t(255,255,255,.5)]):circleData.push([Math.random()*l,Math.random()*i,Math.random()*y,2*Math.random(),4*Math.random(),t(255,255,255)]):circleData.push([Math.random()*l,Math.random()*i,Math.random()*y,2*Math.random(),4*Math.random(),f[Math.floor(Math.random()*f.length)]]);setTimeout(e,b)}else if("shootingLines"==n)setTimeout(r,s);else if("simpleGradient"==n){var j=I.createLinearGradient(0,0,l/2,i);j.addColorStop(0,B),j.addColorStop(1,D),I.fillStyle=j,I.fillRect(0,0,l,i)}else if("starfield"==n){for(var H=[],Y=0;700>Y;Y++)H.push([Math.random()*l*2-l,Math.random()*i,Math.random()*R,Math.ceil(5*Math.random())]);setTimeout(d,s)}else if("layeredTriangles"==n){I.fillStyle=h,I.fillRect(0,0,l,i);for(var Y=0;G>Y;Y++)I.beginPath(),I.moveTo(Math.random()*l,Math.random()*i),I.lineTo(Math.random()*l,Math.random()*i),I.lineTo(Math.random()*l,Math.random()*i),f.length>0?I.fillStyle=f[Math.floor(Math.random()*f.length)]:I.fillStyle=t(255,255,255,.5),I.closePath(),I.fill()}else if("cornerSpikes"==n)I.fillStyle=h,I.fillRect(0,0,l,i),setTimeout(q,s);else if("floatingBoxes"==n){for(var J=[],Y=0;z>Y;Y++)0==f.length?c?J.push([Math.random()*l*2-l,Math.random()*i,Math.random()*F+1,t(255,255,255,.5),5*Math.random()]):J.push([Math.random()*l*2-l,Math.random()*i,Math.random()*F+1,t(255,255,255),5*Math.random()]):J.push([Math.random()*l*2-l,Math.random()*i,Math.random()*F+1,f[Math.floor(Math.random()*f.length)],5*Math.random()]);setTimeout(L,100)}}var r=this,l=r.width(),i=r.height();$("#quietflow").remove();var n="starfield",d=-1e3;void 0!=o&&void 0!=o.z_Index&&(d=o.z_Index);var h,s,m,f=[],c=!0,M=10,u=255,v=255,g=255,p=20,C=30,S="#6F6F6F",y=40,b=50,T=50,k=l/2,x=i/2,w=50,B="#D4145A",D="#FBB03B",R=3,P="#fff",G=50,z=400,F=80,q=document.createElement("canvas"),I=q.getContext("2d");q.id="quietflow",q.width=l,q.height=i,q.style.zIndex=d,q.style.position="absolute",q.style.top=0,$(window).resize(function(){l=r.width(),i=r.height(),q.width=l,q.height=i});var L=$(this).attr("id");if(void 0!=L){var A=document.getElementById(L);A.appendChild(q)}else document.body.appendChild(q);void 0!=o?"squareFlash"==o.theme?(n="squareFlash",void 0!=o.squareSize&&(M=o.squareSize),void 0!=o.maxRed&&(u=o.maxRed),void 0!=o.maxGreen&&(v=o.maxGreen),void 0!=o.maxBlue&&(g=o.maxBlue),s=void 0!=o.speed?o.speed:100):"vortex"==o.theme?(n="vortex",void 0!=o.mainRadius&&(p=o.mainRadius),void 0!=o.miniRadii&&(C=o.miniRadii),h=void 0!=o.backgroundCol?o.backgroundCol:"#01FAFC",void 0!=o.circleCol&&(S=o.circleCol),s=void 0!=o.speed?o.speed:10):"bouncingBalls"==o.theme?(n="bouncingBalls",void 0!=o.specificColors&&(f=o.specificColors),h=void 0!=o.backgroundCol?o.backgroundCol:"#D6D6D6",void 0!=o.maxRadius&&(y=o.maxRadius),void 0!=o.bounceSpeed&&(b=o.bounceSpeed),void 0!=o.bounceBallCount&&(T=o.bounceBallCount),c=void 0!=o.transparent?o.transparent:!0):"shootingLines"==o.theme?(n="shootingLines",h=void 0!=o.backgroundCol?o.backgroundCol:"#000",void 0!=o.lineColor?lineColor=o.lineColor:lineColor="#fff",s=void 0!=o.speed?o.speed:150,m=void 0!=o.lineGlow?o.lineGlow:"#fff",void 0!=o.lines&&(w=o.lines)):"simpleGradient"==o.theme?(n="simpleGradient",void 0!=o.primary&&(B=o.primary),void 0!=o.accent&&(D=o.accent)):"starfield"==o.theme?(n="starfield",void 0!=o.starColor&&(P=o.starColor),void 0!=o.starSize&&(R=o.starSize),s=void 0!=o.speed?o.speed:100):"layeredTriangles"==o.theme?(n="layeredTriangles",h=void 0!=o.backgroundCol?o.backgroundCol:"#D6D6D6",c=void 0!=o.transparent?o.transparent:!0,void 0!=o.specificColors&&(f=o.specificColors),void 0!=o.triangles&&(G=o.triangles)):"cornerSpikes"==o.theme?(n="cornerSpikes",void 0!=o.specificColors&&(f=o.specificColors),h=void 0!=o.backgroundCol?o.backgroundCol:"#000",void 0!=o.lineColor?lineColor=o.lineColor:lineColor="#fff",s=void 0!=o.speed?o.speed:100,m=void 0!=o.lineGlow?o.lineGlow:"#fff"):"floatingBoxes"==o.theme&&(n="floatingBoxes",void 0!=o.specificColors&&(f=o.specificColors),void 0!=o.boxCount&&(z=o.boxCount),void 0!=o.maxBoxSize&&(F=o.maxBoxSize),h=void 0!=o.backgroundCol?o.backgroundCol:"#D6D6D6",c=void 0!=o.transparent?o.transparent:!0):a("You need to specify some attributes!","#D6D6D6","#DF0000"),e()};